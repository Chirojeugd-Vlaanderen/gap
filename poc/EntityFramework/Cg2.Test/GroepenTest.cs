using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using NUnit.Framework;
using Cg2.Core.Domain;
using Cg2.Data;
using System.Reflection;

namespace Cg2.Test
{
    [TestFixture]
    public class GroepenTest
    {
        public GroepenTest() { }

        [Test]
        public void AlleGroepenOphalen()
        {
            using (Cg2ObjectContext db = new Cg2ObjectContext())
            {
                db.MetadataWorkspace.LoadFromAssembly(Assembly.GetAssembly(typeof(Groep)));
                var Result = db.CreateQuery<Groep>("[Groep]").ToList();
                Assert.Greater(Result.Count, 0);
            }
        }

        [Test]
        public void GroepOphalen()
        {
            using (Cg2ObjectContext db = new Cg2ObjectContext())
            {
                Groep g = (from grp in db.Groepen
                           where grp.ID == 310
                           select grp).First();

                Console.WriteLine(g.Naam);
                Assert.AreEqual(g.Naam, "VALENTIJN");
            }
        }
    }
}
