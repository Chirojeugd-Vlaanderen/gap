<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <system.diagnostics>
    <sources>
      <source name="System.ServiceModel.MessageLogging" switchValue="Warning, ActivityTracing">
        <listeners>
          <add type="System.Diagnostics.DefaultTraceListener" name="Default">
            <filter type="" />
          </add>
          <add name="ServiceModelMessageLoggingListener">
            <filter type="" />
          </add>
        </listeners>
      </source>
      <source name="System.ServiceModel" switchValue="Off, ActivityTracing"
        propagateActivity="true">
        <listeners>
          <add type="System.Diagnostics.DefaultTraceListener" name="Default">
            <filter type="" />
          </add>
          <add name="ServiceModelTraceListener">
            <filter type="" />
          </add>
        </listeners>
      </source>
    </sources>
    <sharedListeners>
      <add initializeData="c:\wcflogs\app_messages.svclog" type="System.Diagnostics.XmlWriterTraceListener, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
        name="ServiceModelMessageLoggingListener" traceOutputOptions="Timestamp">
        <filter type="" />
      </add>
      <add initializeData="c:\wcflogs\app_tracelog.svclog" type="System.Diagnostics.XmlWriterTraceListener, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
        name="ServiceModelTraceListener" traceOutputOptions="Timestamp">
        <filter type="" />
      </add>
    </sharedListeners>
  </system.diagnostics>
  <connectionStrings>


    <!-- Connection string voor entity framework op Kipadmin -->
    <add name="kipadminEntities" connectionString="metadata=res://*/KipAdmin.csdl|res://*/KipAdmin.ssdl|res://*/KipAdmin.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=kipsrv1\sql2k5;Initial Catalog=kipadmin;Persist Security Info=True;Integrated Security=SSPI;MultipleActiveResultSets=True;Application Name=kipsync&quot;" providerName="System.Data.EntityClient" />
    <!-- Connection string voor updates in GAP (ad-nr,...) -->
    <add name="kipsync" providerName="System.Data.Sql" connectionString="Data Source=kipsrv1\sql2k5;Initial Catalog=gap;Integrated Security=SSPI;Application Name=KipSyncGapUpdate"/>


  </connectionStrings>
  <!-- When deploying the service library project, the content of the config file must be added to the host's 
  app.config file. System.Configuration does not support config files for libraries. -->
  <system.serviceModel>
    <diagnostics>
      <messageLogging logMalformedMessages="false" logMessagesAtServiceLevel="false"
        logMessagesAtTransportLevel="false" />
    </diagnostics>
    <bindings>
      <netMsmqBinding>
        <binding name="NoMsmqSecurity" receiveTimeout="2.00:00:00" receiveErrorHandling="Fault"
          timeToLive="14.00:00:00">
          <security mode="None" />
        </binding>
      </netMsmqBinding>

      <!-- Metadata Exchange binding, wordt enkel gebruikt om de proxy te genereren
           in Chiro.Gap.Sync (GAP) -->

      <!--<mexHttpBinding>
        <binding name="MexBinding" />
      </mexHttpBinding>-->

    </bindings>
    <services>
      <service behaviorConfiguration="Chiro.Kip.Services.SyncServiceBehavior"
        name="Chiro.Kip.Services.SyncPersoonService">
        <endpoint address="net.msmq://localhost/private/KipSyncLive"
          binding="netMsmqBinding" bindingConfiguration="NoMsmqSecurity"
          contract="Chiro.Kip.ServiceContracts.ISyncPersoonService" />
        <host>
          <baseAddresses>
            <add baseAddress="net.msmq://localhost/private/KipSyncLive" />

            <!-- Base address voor metadata exchange -->
            <!--<add baseAddress="http://localhost:8000/KipSyncService" />-->

          </baseAddresses>
        </host>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="Chiro.Kip.Services.SyncServiceBehavior">
          <serviceThrottling maxConcurrentCalls="1"
            maxConcurrentSessions="10"
            maxConcurrentInstances="15" />
          <serviceDebug includeExceptionDetailInFaults="true" />
          <!--<serviceMetadata httpGetEnabled="true" httpsGetEnabled="false" />-->
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>
</configuration>
